(()=>{"use strict";const t=(t,...e)=>t.addEventListener(...e),e={listen:t,waitForEvent:function(e,n,o,i,s=new Error("timeout")){let r;return typeof o!==object&&(o={capture:!!o}),o=Object.assign({},o,{once:!0}),i>0&&!(o.signal instanceof AbortSignal)&&(r=new AbortController,o.signal=r.signal),new Promise(((a,c)=>{t(n,e,a,o),i>0&&setTimeout((()=>{c(s),r&&r.abort(s)}),i)}))}};"object"==typeof window&&window===globalThis&&Object.assign(window,e)})();