(()=>{"use strict";const e=(e,...t)=>e.addEventListener(...t),t={listen:e,waitForEvent:function(t,n,...i){let o,s,c;return i.length&&isNaN(i[0])?(o="object"==typeof i[0]?Object.assign({},i[0]):{capture:!!i[0]},i.splice(0,1)):o={capture:!1},o.once=!0,s=i[0]||0,c=i[1]||new Error("timeout"),new Promise(((i,r)=>{e(t,n,i,o),s>0&&setTimeout(r,s,c)}))}};"object"==typeof window&&window===globalThis&&Object.assign(window,t)})();